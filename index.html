<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Romantic Invitation for Priya</title>
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=La+Belle+Aurore&family=Parisienne&family=Quicksand:wght@600&family=Great+Vibes&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>

  <style>
    :root {
      --pink1: #FFE5EC;
      --pink2: #FFC2D1;
      --pink3: #FFB6C2;
      --pink4: #FF94B4;
      --pink5: #FB6F92;
      --lantern-yellow: #ffe066;
    }
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    html, body {
      width: 100vw;
      height: 100vh;
      min-height: 100vh;
      background: linear-gradient(135deg, var(--pink1) 0%, var(--pink2) 28%, var(--lantern-yellow) 65%, var(--pink5) 100%);
      font-family: 'Quicksand', Arial, sans-serif;
      color: #b35088;
      overflow: hidden;
      overscroll-behavior: contain;
      background-attachment: fixed;
    }
    #app {
      height: 100vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: transparent;
      position: relative;
      z-index: 10;
      cursor: url("https://cdn.iconscout.com/icon/free/png-256/heart-170-458970.png"), auto;
      transform-style: preserve-3d;
    }
    canvas#pixi-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      user-select: none;
      pointer-events: none;
      z-index: 0;
      will-change: transform;
      /* Stronger blur for dreamier 3D effect */
      filter: drop-shadow(0 0 30px var(--pink5)) blur(1px);
    }
    .page {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: transparent;
      padding: 0 6vw;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.33, 1, 0.68, 1);
      user-select: text;
      z-index: 10;
      transform-style: preserve-3d;
    }
    .page.active {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
      z-index: 20;
    }
    .page.exit {
      opacity: 0;
      pointer-events: none;
      transform: translateY(30px);
      z-index: 5;
    }
    h1 {
      font-family: 'Parisienne', cursive;
      font-size: 4rem;
      max-width: 900px;
      color: var(--pink5);
      letter-spacing: 0.10em;
      margin: 0 0 1.8rem 0;
      user-select: text;
      text-shadow: 0 0 30px var(--pink5), 0 0 48px var(--lantern-yellow);
      position: relative;
    }
    h1::before {
      content: "";
      position: absolute;
      top: 50%;
      left: -6%;
      width: 115%;
      height: 18px;
      background: linear-gradient(135deg, transparent, var(--pink4), transparent);
      opacity: 0.36;
      transform: translateX(-100%) translateY(-50%) rotate(7deg);
      animation: shine 4.5s linear infinite;
      border-radius: 50%;
      pointer-events: none;
    }
    p.lap {
      font-family: 'La Belle Aurore', cursive;
      font-size: 2.4rem;
      max-width: 880px;
      margin: 2.2rem auto 4.2rem;
      color: #db3577;
      text-shadow: 0 0 18px var(--lantern-yellow), 0 0 8px var(--pink5);
      letter-spacing: 0.08em;
      line-height: 1.76;
      font-weight: 400;
      text-align: center;
      user-select: text;
    }
    button {
      font-family: 'Great Vibes', cursive;
      padding: 30px 75px;
      font-size: 4.8rem;
      font-weight: 600;
      letter-spacing: 0.17em;
      cursor: pointer;
      border: none;
      border-radius: 68px;
      background: linear-gradient(135deg, var(--pink4), var(--pink5));
      color: white;
      box-shadow: 0 0 100px var(--lantern-yellow), 0 0 100px var(--pink5);
      user-select: none;
      margin: 1.2rem 0 3.2rem;
      z-index: 30;
      transition: background 0.3s, transform 0.2s, box-shadow 0.3s;
    }
    button:hover,
    button:focus {
      background: linear-gradient(135deg, var(--pink5), var(--pink4));
      transform: scale(1.16);
      box-shadow: 0 0 110px var(--lantern-yellow), 0 0 120px var(--pink5);
      outline: none;
    }
    button:active {
      transform: scale(0.97);
      box-shadow: 0 0 28px var(--pink4);
    }
    #loveNote {
      font-family: 'La Belle Aurore', cursive;
      font-size: 2.6rem;
      max-width: 610px;
      color: var(--pink5);
      background: rgba(255, 240, 250, 0.96);
      padding: 38px 54px;
      border-radius: 37px;
      box-shadow: 0 26px 80px rgba(251, 107, 143, 0.22), 0 0 70px var(--lantern-yellow);
      position: fixed;
      bottom: 150px;
      right: 48px;
      user-select: text;
      z-index: 31;
      opacity: 1;
      pointer-events: auto;
      text-align: center;
      display: none;
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
    #loveNote.show {
      display: block;
    }
    #roseHeart {
      position: fixed;
      bottom: 36px;
      right: 36px;
      width: 83px;
      height: 83px;
      background: url("https://cdn-icons-png.flaticon.com/512/833/833472.png") no-repeat center;
      background-size: contain;
      cursor: pointer;
      user-select: none;
      z-index: 40;
      filter: drop-shadow(0 0 35px var(--lantern-yellow)) drop-shadow(0 0 15px var(--pink5));
      opacity: 0.97;
      border: none;
      outline: none;
      border-radius: 50%;
      display: block;
      transition: filter 0.3s, opacity 0.3s, transform 0.22s;
      box-shadow: 0 0 22px var(--pink5);
    }
    #roseHeart.pop {
      animation: popAnim 0.5s cubic-bezier(0.69, 1.7, 0.53, 0.88);
      filter: drop-shadow(0 0 60px var(--lantern-yellow)) drop-shadow(0 0 38px var(--pink5));
      transform: scale(1.21) rotate(-11deg);
    }
    #roseHeart:hover {
      opacity: 1;
      filter: drop-shadow(0 0 48px var(--lantern-yellow)) drop-shadow(0 0 32px var(--pink5));
      transform: scale(1.13);
    }
    .gallery-container {
      position: relative;
      width: 100vw;
      max-width: 640px;
      min-width: 290px;
      height: auto;
      margin: 66px auto 46px;
      display: flex;
      justify-content: center;
    }
    .gallery-container img {
      max-width: 100%;
      width: 133%;
      height: auto;
      border-radius: 34px;
      filter: drop-shadow(0 0 32px var(--lantern-yellow)) drop-shadow(0 0 23px var(--pink5));
      margin: auto;
      box-shadow: 0 0 70px var(--lantern-yellow), 0 0 44px var(--pink5);
      display: block;
    }
    @media (max-width: 650px) {
      .gallery-container {
        max-width: 380px;
        margin: 34px auto 20px;
      }
      .gallery-container img {
        max-height: 210px;
        width: 107vw;
      }
      h1 {
        font-size: 2.2rem;
      }
      p.lap {
        font-size: 1.18rem;
      }
      button {
        font-size: 2.6rem;
        padding: 20px 30px;
      }
      #loveNote {
        font-size: 1.5rem;
        padding: 22px 20px;
        right: 10vw;
        bottom: 92px;
        max-width: 94vw;
      }
      #roseHeart {
        width: 53px;
        height: 53px;
        bottom: 13px;
        right: 13px;
      }
    }
    @keyframes shine {
      0% {
        transform: translateX(-100%) translateY(-50%) rotate(7deg);
      }
      100% {
        transform: translateX(110%) translateY(-50%) rotate(7deg);
      }
    }
    @keyframes popAnim {
      0% {
        transform: scale(1) rotate(0deg);
      }
      10% {
        transform: scale(1.25) rotate(-11deg);
      }
      35% {
        transform: scale(0.9) rotate(8deg);
      }
      60% {
        transform: scale(1.15) rotate(-5deg);
      }
      100% {
        transform: scale(1) rotate(0deg);
      }
    }
  </style>
</head>
<body>
  <canvas id="pixi-canvas" tabindex="-1" aria-hidden="true"></canvas>

  <div id="app" role="main" aria-live="polite" tabindex="-1">
    <section id="page1" class="page active" aria-label="Invitation message">
      <h1>
        The weather is beautiful, the air calling,
        <br />
        &amp; all I need is my beautiful wife by my side.
      </h1>
      <p class="lap">
        Would you like to join me for a date day tomorrow,
        the fine Saturday of August 23, in the year 2025?
        I would love to court you across the Big Apple.
      </p>
      <button id="yesButton" aria-label="Confirm attendance for the date">
        Yes
      </button>
    </section>

    <section id="page2" class="page" aria-label="Date and vibe" tabindex="-1">
      <h1>Welcome to Our Date Day, Priya</h1>
      <p class="lap">
        Imagine a day full of delicious food that originated
        over 2000 years ago, art whispering stories, drinks
        sparkling softly, roses, jasmine filling the air, and
        love letters waiting to be unfolded.
      </p>
      <div class="gallery-container" id="gallery">
        <img src="Photo 1.jpg" alt="Photo of romantic day" />
      </div>
    </section>
  </div>

  <button
    id="roseHeart"
    type="button"
    aria-pressed="false"
    aria-label="Toggle love note"
    title="Toggle love note"
    style="display: block"
  ></button>
  <div
    id="loveNote"
    role="alert"
    aria-hidden="true"
    tabindex="-1"
    class="hidden"
    style="display:none;"
  >
    I love you, Priya.<br />
    I hope you like this little creation.<br />
    Tomorrow will be an amazing day and I canâ€™t wait.
  </div>

  <script>
    window.onload = () => {
      document.getElementById("app").hidden = false;
    };

    const music = new Audio("song.mp3");
    music.volume = 0.3;
    music.loop = true;

    const yesButton = document.getElementById("yesButton");
    yesButton.addEventListener("click", () => {
      music.play().catch(() => {});
      const page1 = document.getElementById("page1");
      const page2 = document.getElementById("page2");
      page1.classList.add("exit");
      page1.classList.remove("active");
      setTimeout(() => {
        page2.classList.add("active");
        page2.classList.remove("exit");
        page2.focus();
      }, 1000);
    });

    const roseHeart = document.getElementById("roseHeart");
    const loveNote = document.getElementById("loveNote");

    roseHeart.addEventListener("click", () => {
      const isVisible = !loveNote.classList.contains("show");
      if (isVisible) {
        loveNote.classList.add("show");
        loveNote.style.display = "block";
        loveNote.setAttribute("aria-hidden", "false");
        roseHeart.style.display = "none";
        roseHeart.classList.add("pop");
        setTimeout(() => roseHeart.classList.remove("pop"), 350);
        loveNote.focus();
      } else {
        loveNote.classList.remove("show");
        loveNote.style.display = "none";
        loveNote.setAttribute("aria-hidden", "true");
        roseHeart.style.display = "block";
      }
    });

    roseHeart.addEventListener("keypress", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        roseHeart.click();
      }
    });

    // Enhanced 3D, pulsing, moving lanterns using PIXI.js
    const appPixi = new PIXI.Application({
      view: document.getElementById("pixi-canvas"),
      resize: window,
      transparent: true,
      resolution: window.devicePixelRatio,
      antialias: true,
      alpha: true,
    });

    // Rose petal rain
    const petals = [];
    const petalTexture = PIXI.Texture.from(
      "https://cdn.jsdelivr.net/gh/jackadamfadem/romantic-pixijs@main/assets/petal.png"
    );
    for (let i = 0; i < 18; i++) {
      const petal = new PIXI.Sprite(petalTexture);
      petal.anchor.set(0.5);
      petal.x = Math.random() * window.innerWidth;
      petal.y = Math.random() * window.innerHeight;
      petal.alpha = 0.7 + Math.random() * 0.35;
      petal.scale.set(0.28 + Math.random() * 0.22);
      petal.rotation = Math.random() * Math.PI * 2;
      petal.angularSpeed = 0.001 + Math.random() * 0.003;
      petal.floatSpeed = 0.17 + Math.random() * 0.4;
      petals.push(petal);
      appPixi.stage.addChild(petal);
    }

    // Pulsing lanterns (yellow and pink, different depths and motion)
    const lanterns = [];
    for (let i = 0; i < 36; i++) {
      const lantern = new PIXI.Graphics();
      const isYellow = Math.random() < 0.67;
      const color = isYellow ? 0xffe066 : (Math.random()<0.5 ? 0xFFB6C2 : 0xFB6F92);
      const baseRadius = isYellow
        ? 38 + Math.random() * 52
        : 19 + Math.random() * 23;
      lantern.beginFill(color, isYellow ? 0.26 : 0.13);
      lantern.drawEllipse(0, 0, baseRadius, baseRadius * (isYellow ? 1 : 0.62));
      lantern.endFill();
      lantern.x = Math.random() * window.innerWidth;
      lantern.y = Math.random() * window.innerHeight;
      // unique pulse
      lantern.baseRadius = baseRadius;
      lantern.pulsePhase = Math.random() * Math.PI * 2;
      lantern.speedY = (isYellow ? 0.08 : 0.03) + Math.random() * 0.11 * (isYellow ? 1.2 : 0.7);
      lantern.driftX = (Math.random()-0.5) * (isYellow ? 1.5 : 0.9);
      lantern.zDepth = isYellow ? (0.6 + Math.random()*0.5) : (Math.random()*0.7);
      lantern.lanternColor = color;
      lanterns.push(lantern);
      appPixi.stage.addChild(lantern);
    }

    appPixi.ticker.add(() => {
      const width = window.innerWidth,
        height = window.innerHeight, t = performance.now() / 700;

      // Rose petals
      petals.forEach((petal, idx) => {
        petal.y += petal.floatSpeed+idx*0.0007;
        petal.rotation += petal.angularSpeed;
        petal.x += Math.sin(petal.y*0.013 + idx)*0.8 + Math.cos(petal.y*0.01 + idx)*0.3;
        if (petal.y > height + 80) {
          petal.y = -60;
          petal.x = Math.random() * width;
        }
      });

      // Lanterns
      lanterns.forEach((lantern, idx) => {
        // 3d parallax using zDepth
        lantern.pulsePhase += 0.0125 + Math.sin(t + idx) * 0.013;
        const pulse = (Math.sin(lantern.pulsePhase) + 2) * 0.45 + 1;
        let r = lantern.baseRadius * (0.92 + 0.14 * pulse);
        lantern.clear();
        lantern.beginFill(lantern.lanternColor, idx % 4 == 0 ? 0.13 : (lantern.lanternColor === 0xffe066 ? 0.34 : 0.17));
        lantern.drawEllipse(0, 0, r, r * (lantern.lanternColor === 0xffe066 ? 1 : 0.67));
        lantern.endFill();
        lantern.y += lantern.speedY * (1 + lantern.zDepth * 0.58) + Math.cos(t+idx)*0.09;
        lantern.x += lantern.driftX * (0.97+0.09*Math.sin(t+idx*2));
        if (lantern.y > height + r) {
          lantern.y = -r;
          lantern.x = Math.random() * width;
        }
        // wrap x slowly for drifting lanterns
        if (lantern.x < -r) lantern.x = width + r;
        if (lantern.x > width+r) lantern.x = -r;
      });
    });

    window.addEventListener("deviceorientation", (e) => {
      const gamma = e.gamma || 0, beta = e.beta || 0;
      petals.forEach((petal, i) => {
        const offsetX = gamma * 0.03 * ((i % 6) + 1),
          offsetY = beta * 0.025 * (((i + 3) % 6) + 1);
        petal.x += offsetX;
        petal.y += offsetY;
      });
      lanterns.forEach((lantern, i) => {
        const offsetX = gamma * 0.02 * ((i % 10) + 1);
        lantern.x += offsetX;
      });
    });
  </script>
</body>
</html>
