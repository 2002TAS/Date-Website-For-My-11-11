<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Romantic Invitation for Priya</title>

  <!-- Fonts: La Belle Aurore, Parisienne, Quicksand, Great Vibes -->
  <link href="https://fonts.googleapis.com/css2?family=La+Belle+Aurore&family=Parisienne&family=Quicksand:wght@400;600&family=Great+Vibes&display=swap" rel="stylesheet" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>

  <style>
    :root {
      --pink1: #FFE5EC;
      --pink2: #FFC2D1;
      --pink3: #FFB3C6;
      --pink4: #FF8FAB;
      --pink5: #FB6F92;
    }
    * {
      margin: 0; padding: 0; box-sizing: border-box;
    }
    html, body {
      width: 100vw; height: 100vh; min-height: 100vh;
      background: linear-gradient(135deg, var(--pink1) 0%, var(--pink2) 35%, var(--pink3) 65%, var(--pink5) 100%);
      color: #b53d77;
      overflow-x: hidden;
      overscroll-behavior: contain;
      background-attachment: fixed;
      font-family: 'Quicksand', Arial, sans-serif;
    }
    #app {
      min-height: 100vh;
      min-width: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: transparent;
      z-index: 10;
      position: relative;
      transform-style: preserve-3d;
      cursor: url('https://cdn.iconscout.com/icon/free/png-256/heart-170-458970.png'), auto;
    }
    canvas#pixi-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      user-select: none;
      pointer-events: none;
      z-index: 0;
      will-change: transform;
      filter: drop-shadow(0 0 15px var(--pink5));
    }
    .page {
      width: 100vw;
      min-height: 100vh;
      position: absolute;
      top: 0; left: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: transparent;
      padding-left: 6vw;
      padding-right: 6vw;
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
      z-index: 20;
      user-select: text;
      transform-style: preserve-3d;
    }
    h1 {
      font-family: 'Parisienne', cursive;
      font-size: 3rem;
      max-width: 750px;
      color: var(--pink5);
      letter-spacing: 0.05em;
      text-shadow: 0 0 18px var(--pink4), 0 0 30px var(--pink5);
      margin: 5vh 0 1.5rem;
      user-select: text;
      position: relative;
    }
    h1::before {
      content: "";
      position: absolute;
      top: 45%;
      left: -6%;
      width: 115%;
      height: 14px;
      background: linear-gradient(90deg, transparent, var(--pink4), transparent);
      opacity: 0.42;
      transform: translateX(-100%) translateY(-50%) rotate(7deg);
      animation: shine 4.5s linear infinite;
      border-radius: 50%;
      pointer-events: none;
    }
    p.lap {
      font-family: 'La Belle Aurore', cursive;
      font-size: 1.38rem;
      max-width: 880px;
      margin: 1.5rem auto 3rem;
      color: #d1467e;
      text-shadow: 0 0 7px var(--pink4);
      letter-spacing: 0.045em;
      line-height: 1.6;
      user-select: text;
      font-weight: 400;
      text-align: center;
    }
    button {
      font-family: 'Great Vibes', cursive;
      padding: 16px 50px;
      font-size: 2.25rem;
      font-weight: 600;
      letter-spacing: 0.12em;
      cursor: pointer;
      border: none;
      border-radius: 30px;
      background: linear-gradient(135deg, var(--pink4), var(--pink5));
      color: white;
      box-shadow: 0 0 30px var(--pink5);
      user-select: none;
      margin-top: 1rem;
      margin-bottom: 3rem;
      transition: background 0.3s ease, transform 0.18s cubic-bezier(0.61,0.09,0.63,1.21), box-shadow 0.28s;
    }
    button:hover, button:focus {
      background: linear-gradient(135deg, var(--pink5), var(--pink4));
      transform: scale(1.08);
      box-shadow: 0 0 44px var(--pink5);
      outline: none;
    }
    button:active {
      transform: scale(0.93);
      box-shadow: 0 0 12px var(--pink4);
    }
    #loveNote {
      font-family: 'Parisienne', cursive;
      font-size: 1.3rem;
      max-width: 430px;
      color: var(--pink5);
      background: rgba(255 240 250 / 0.95);
      padding: 26px 36px;
      border-radius: 28px;
      box-shadow: 0 16px 36px rgba(251, 107, 143, 0.22);
      position: fixed;
      bottom: 130px;
      right: 30px;
      display: none;
      z-index: 31;
      text-align: center;
      line-height: 1.9;
      letter-spacing: 0.11em;
      font-weight: 500;
      opacity: 0;
      transform: translateY(40px) scale(0.98);
      transition: opacity 0.32s cubic-bezier(0.56,1.03,0.7,1.4), transform 0.32s cubic-bezier(0.56,1.03,0.7,1.4);
    }
    #loveNote.show {
      display: block;
      opacity: 1;
      transform: translateY(0) scale(1.04);
    }
    #roseHeart {
      position: fixed;
      bottom: 26px;
      right: 26px;
      width: 70px;
      height: 70px;
      background: url('https://cdn.iconscout.com/icon/free/png-256/heart-170-458970.png') no-repeat center/contain;
      background-size: contain;
      cursor: pointer;
      opacity: 0.85;
      user-select: none;
      z-index: 40;
      filter: drop-shadow(0 0 15px var(--pink4));
      transition: filter 0.22s, opacity 0.25s;
      animation: heartPulse 2.9s infinite;
      border-radius: 50%;
    }
    #roseHeart.pop {
      animation: heartPop 0.39s cubic-bezier(0.69,1.7,0.53,0.88) 1;
      filter: drop-shadow(0 0 27px var(--pink5));
    }
    @keyframes heartPop {
      0% { transform: scale(1) rotate(0deg); }
      10% { transform: scale(1.23) rotate(-8deg); }
      35% { transform: scale(0.9) rotate(7deg); }
      60% { transform: scale(1.11) rotate(-4deg); }
      100% { transform: scale(1.06) rotate(0); }
    }
    @keyframes heartPulse {
      0%, 100% { transform: scale(1); }
      18% { transform: scale(1.06); }
      35% { transform: scale(0.98); }
      55% { transform: scale(1.09); }
      80% { transform: scale(1); }
    }
    .gallery-container {
      position: relative;
      width: 90vw;
      max-width: 520px;
      min-width: 240px;
      height: 24vw;
      max-height: 140px;
      margin: 26px auto 24px auto;
      background: var(--pink1);
      border-radius: 22px;
      box-shadow: 0 10px 38px rgba(255, 176, 193, 0.4);
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .gallery-slide {
      width: 100%;
      height: 100%;
      border-radius: 20px;
      position: relative;
    }
    .gallery-slide img {
      width: auto;
      height: 100%;
      object-fit: contain;
      border-radius: 20px;
      box-shadow: 0 5px 20px rgba(255, 176, 193, 0.7);
      display: block;
      margin: auto;
      max-width: 100%;
      max-height: 100%;
    }
    @media (max-width: 900px) {
      .gallery-container {
        width: 99vw;
        height: 40vw;
        max-height: 280px;
      }
      .gallery-slide img {
        height: 100%;
        width: auto;
      }
    }
    @media (max-width: 650px) {
      .gallery-container {
        width: 99vw;
        height: 45vw;
        max-height: 230px;
      }
      .gallery-slide img {
        height: 100%;
        width: auto;
      }
      h1 {
        font-size: 2rem;
      }
      p.lap {
        font-size: 1.1rem;
      }
      button {
        font-size: 1.2rem;
        padding: 12px 29px;
      }
      #loveNote {
        max-width: 85vw;
        font-size: 1.05rem;
        padding: 20px 30px;
        bottom: 80px;
        right: 10vw;
      }
      #roseHeart {
        width: 45px;
        height: 45px;
        bottom: 18px;
        right: 18px;
      }
    }
    @keyframes shine {
      0% { transform: translateX(-100%) translateY(-50%) rotate(7deg); }
      100% { transform: translateX(110%) translateY(-50%) rotate(7deg); }
    }
    @keyframes blinkLoading {
      0%, 50%, 100% { opacity: 1; }
      25%, 75% { opacity: 0; }
    }
  </style>
</head>
<body>
  <div id="loading" aria-live="polite" role="alert" style="display:none;">Loading...</div>
  <canvas id="pixi-canvas" aria-hidden="true" tabindex="-1"></canvas>
  <audio id="music" src="song.mp3" autoplay loop muted></audio>
  <div id="app" aria-live="polite" role="main" hidden>
    <section id="page1" class="page" aria-label="Invitation message">
      <h1>The weather is beautiful, the air is calling,<br />&amp; all I need is my beautiful wife by my side.</h1>
      <p class="lap">Would you like to join me for a date day tomorrow, the fine Saturday of August 23, in the year 2025? I would love to court you across the big apple.</p>
      <button id="yesButton" aria-label="Confirm attendance for the date">Yes</button>
    </section>
    <section id="page2" class="page" aria-label="Date and vibe" tabindex="-1">
      <h1>Welcome to Our Date Day, Priya</h1>
      <p class="lap">Imagine a day full of delicious food from over 2000 years ago, art whispering stories, sparkling drinks, roses, jasmine in the air, and love letters waiting to be unfolded.</p>
      <div class="gallery-container" id="gallery">
        <div class="gallery-slide">
          <img src="Photo 1.jpg" alt="Photo 1" />
        </div>
      </div>
    </section>
  </div>

  <button id="roseHeart" type="button" aria-pressed="false" aria-label="Toggle love note" title="Click to show or hide the love note"></button>

  <div id="loveNote" role="alert" aria-live="assertive" tabindex="0" aria-hidden="true">
    I love you Priya.<br />
    I hope you like this little creation I made.<br />
    Tomorrow will be an amazing day, and I canâ€™t wait to begin it.
  </div>

  <script>
    // No loading screen, so just show app immediately
    window.onload = () => {
      document.getElementById('app').hidden = false;
    };

    const music = document.getElementById('music');
    music.volume = 0.3;
    music.play().catch(() => {});
    document.body.addEventListener('click', () => {
      if (music.muted) {
        music.muted = false;
        music.play().catch(() => {});
      }
    }, { once: true });

    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');
    const yesButton = document.getElementById('yesButton');
    yesButton.addEventListener('click', () => {
      page1.classList.add('exit');
      page1.classList.remove('active');
      setTimeout(() => {
        page2.classList.add('active');
        page2.classList.remove('exit');
        page2.focus();
      }, 500);
    });

    const roseHeart = document.getElementById('roseHeart');
    const loveNote = document.getElementById('loveNote');

    roseHeart.addEventListener('click', () => {
      const isVisible = loveNote.classList.toggle('show');
      roseHeart.setAttribute('aria-pressed', isVisible);
      roseHeart.classList.add('pop');
      setTimeout(() => {
        roseHeart.classList.remove('pop');
      }, 400);
    });

    roseHeart.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        roseHeart.click();
      }
    });

    // PIXI.js setup same as before (petals & orbs)
    const appPixi = new PIXI.Application({
      view: document.getElementById('pixi-canvas'),
      resizeTo: window,
      transparent: true,
      resolution: window.devicePixelRatio,
      antialias: true,
      alpha: true
    });

    // Petals setup
    const petals = [];
    const petalTexture = PIXI.Texture.from('https://i.ibb.co/pxMgBk8/rose-petal.png');
    for (let i = 0; i < 20; i++) {
      const petal = new PIXI.Sprite(petalTexture);
      petal.anchor.set(0.5);
      petal.x = Math.random() * window.innerWidth;
      petal.y = Math.random() * window.innerHeight;
      petal.alpha = 0.6 + Math.random() * 0.35;
      petal.scale.set(0.14 + Math.random() * 0.3);
      petal.rotation = Math.random() * Math.PI * 2;
      petal.angularSpeed = 0.002 + Math.random() * 0.004;
      petal.floatSpeed = 0.25 + Math.random() * 0.5;
      petals.push(petal);
      appPixi.stage.addChild(petal);
    }

    // Orbs setup
    const orbs = [];
    const orbColors = [0xffe5ec, 0xffc2d1, 0xffb3c6, 0xff8fab, 0xfb6f92, 0xffd700];
    for (let i = 0; i < 60; i++) {
      const orb = new PIXI.Graphics();
      const color = orbColors[Math.floor(Math.random() * orbColors.length)];
      const radius = (3 + Math.random() * 10) * (Math.random() < 0.3 ? 1.5 : 1);
      const alpha = 0.12 + Math.random() * 0.25;
      orb.beginFill(color, alpha);
      orb.drawCircle(0, 0, radius);
      orb.endFill();
      orb.x = Math.random() * window.innerWidth;
      orb.y = Math.random() * window.innerHeight;
      orb.vx = (Math.random() - 0.5) * 0.15;
      orb.vy = (Math.random() - 0.5) * 0.15;
      orb.alpha = alpha;
      orbs.push(orb);
      appPixi.stage.addChild(orb);
      if (radius > 9) {
        const glow = new PIXI.Graphics();
        glow.beginFill(color, 0.035);
        glow.drawCircle(0, 0, radius * 2.2);
        glow.endFill();
        glow.x = orb.x;
        glow.y = orb.y;
        appPixi.stage.addChild(glow);
        appPixi.ticker.add(() => {
          glow.x = orb.x;
          glow.y = orb.y;
        });
      }
    }

    // Animation for petals and orbs
    appPixi.ticker.add(() => {
      const width = window.innerWidth;
      const height = window.innerHeight;
      petals.forEach((petal) => {
        petal.y += petal.floatSpeed;
        petal.rotation += petal.angularSpeed;
        petal.x += Math.sin(petal.y * 0.011) * 0.74;
        if (petal.y > height + 60) {
          petal.y = -60;
          petal.x = Math.random() * width;
        }
      });
      orbs.forEach((orb) => {
        orb.x += orb.vx;
        orb.y += orb.vy;
        if (orb.x < 0 || orb.x > width) orb.vx *= -1;
        if (orb.y < 0 || orb.y > height) orb.vy *= -1;
      });
    });

    // Device orientation to move petals a little
    window.addEventListener('deviceorientation', (e) => {
      const gamma = e.gamma || 0;
      const beta = e.beta || 0;
      petals.forEach((petal, i) => {
        const offsetX = gamma * 0.025 * ((i % 6) + 1);
        const offsetY = beta * 0.03 * (((i + 3) % 6) + 1);
        petal.x += offsetX;
        petal.y += offsetY;
      });
    }, true);
  </script>
</body>
</html>
