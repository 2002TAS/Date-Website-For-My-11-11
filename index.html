<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Romantic NYC Date Invitation SPA</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&display=swap" rel="stylesheet"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>
  <style>
    /* Reset and base */
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    html, body {
      height: 100%;
      width: 100%;
      overflow-x: hidden;
      font-family: 'Dancing Script', cursive;
      background:
        radial-gradient(circle at 25% 45%, rgba(255 235 180 / 0.3), transparent 80%),
        radial-gradient(circle at 75% 60%, rgba(255 220 150 / 0.35), transparent 70%),
        linear-gradient(135deg, #fef6f3 20%, #f8d5b3 70%);
      color: #3a1f0b;
      user-select: none;
      touch-action: manipulation;
      overscroll-behavior-y: contain;
      position: relative;
      perspective: 900px;
    }
    #app {
      height: 100vh;
      width: 100vw;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      text-align: center;
      background: transparent;
      z-index: 10;
      transform-style: preserve-3d;
    }

    /* NYC silhouette subtle dark skyline at bottom */
    #nyc-silhouette {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100vw;
      height: 18vh;
      background: url('https://i.ibb.co/MVnPstX/nyc-silhouette-transparent.png') no-repeat bottom center;
      background-size: cover;
      filter: drop-shadow(0 0 5px rgba(0,0,0,0.07));
      pointer-events: none;
      opacity: 0.12;
      z-index: 1;
      user-select: none;
      transform: translateZ(-150px) scale(1.1);
    }

    /* Pixi canvas */
    canvas#pixi-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      user-select: none;
      pointer-events: none;
      z-index: 0;
      will-change: transform;
      filter: drop-shadow(0 0 15px rgba(255 215 0 / 0.35));
    }

    /* Pages */
    .page {
      position: absolute;
      width: 100%;
      min-height: 100vh;
      top: 0;
      left: 0;
      background: transparent;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 1.2s cubic-bezier(0.4,0,0.2,1), transform 0.9s ease-out;
      user-select: text;
      padding: 0 15px;
      z-index: 10;
      transform-style: preserve-3d;
    }
    .page.active {
      opacity: 1;
      pointer-events: auto;
      z-index: 20;
      transform: translateY(0);
    }
    .page.exit {
      opacity: 0;
      pointer-events: none;
      transform: translateY(50px);
      z-index: 5;
    }

    /* Heading text styling with subtle glow */
    h1 {
      font-size: 3.9rem;
      max-width: 650px;
      color: #4b2c0d;
      letter-spacing: 0.05em;
      text-shadow:
        0 0 10px rgba(255 215 100 / 0.85),
        0 0 15px rgba(255 215 0 / 0.6),
        1px 1px 4px rgba(0,0,0,0.12);
      position: relative;
      animation: fadeInSlideDown 1.3s ease forwards;
      cursor: default;
      user-select: text;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    h1::before {
      content: "";
      position: absolute;
      top: 50%;
      left: -6%;
      width: 112%;
      height: 16px;
      background: linear-gradient(90deg, transparent, #ffd858, transparent);
      opacity: 0.45;
      transform: translateX(-100%) translateY(-50%) rotate(11deg);
      animation: shine 4s linear infinite;
      border-radius: 50%;
      pointer-events: none;
    }

    /* Paragraph text - No yellow outline, dark but warm tone */
    p {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.28rem;
      max-width: 480px;
      font-weight: 550;
      margin-top: 28px;
      margin-bottom: 44px;
      line-height: 1.55;
      color: #573a1d;
      letter-spacing: 0.04em;
      animation: fadeInSlideUp 1.75s ease forwards;
      user-select: text;
      text-shadow: 0 0 8px rgba(255 240 195 / 0.2);
      /* No text stroke/glow for clean, easy reading */
    }

    /* Button styles */
    button {
      padding: 18px 60px;
      font-size: 1.45rem;
      font-weight: 700;
      border: none;
      border-radius: 52px;
      background: linear-gradient(135deg, #ffd54f 0%, #c49513 100%);
      color: #4c3206;
      letter-spacing: 0.04em;
      cursor: pointer;
      box-shadow:
        0 5px 21px rgba(255 215 68 / 0.75),
        0 0 22px #ffc748;
      transition: all 0.4s cubic-bezier(0.4,0,0.2,1);
      animation: fadeInSlideUp 1.9s ease forwards;
      user-select: none;
      will-change: transform, box-shadow;
      transform-style: preserve-3d;
    }
    button:hover, button:focus {
      background: linear-gradient(135deg, #ffea6c 0%, #e3b431 100%);
      box-shadow:
        0 8px 30px rgba(255 238 92 / 0.99),
        0 0 25px #ffe75f;
      transform: translateZ(7px) scale(1.07);
      outline: none;
    }
    button:active {
      transform: translateZ(0) scale(0.95);
      box-shadow: 0 3px 11px rgba(177 139 4 / 0.95);
    }

    /* Responsive text */
    @media (max-width: 600px) {
      h1 { font-size: 2.9rem; }
      p { font-size: 1.1rem; max-width: 92vw; }
      button { font-size: 1.2rem; padding: 16px 44px; }
    }

    /* Animations */
    @keyframes fadeInSlideDown {
      0% { opacity: 0; transform: translateY(-28px);}
      100% {opacity: 1; transform: translateY(0);}
    }
    @keyframes fadeInSlideUp {
      0% {opacity: 0; transform: translateY(28px);}
      100% {opacity: 1; transform: translateY(0);}
    }
    @keyframes shine {
      0% {transform: translateX(-110%) translateY(-50%) rotate(11deg);}
      100% {transform: translateX(120%) translateY(-50%) rotate(11deg);}
    }
  </style>
</head>
<body>
  <canvas id="pixi-canvas" aria-hidden="true"></canvas>
  <audio id="backgroundMusic" src="song.mp3" loop></audio>

  <div id="app" aria-live="polite">
    <div id="nyc-silhouette" aria-hidden="true"></div>

    <section id="page1" class="page active" aria-label="Invitation landing page">
      <h1>The weather is beautiful, the air is calling,<br />
      & all I need is my beautiful wife by my side.</h1>
      <p>Would you like to join me for a date day tomorrow on the fine Saturday of August 23, in the big year of 2025?<br />I would love to court you across the big apple.</p>
      <button id="yesButton" aria-label="Yes, I would like to join you for the date">Yes</button>
    </section>

    <section id="page2" class="page" aria-label="Romantic date vibe page">
      <h1>Welcome to Our Date Night</h1>
      <p>
        Imagine a beautiful museum at night, art whispering stories, drinks sparkling softly,
        roses, gentle jasmine filling the air, and love letters waiting to be unfolded.
      </p>
    </section>
  </div>

  <script>
    // SPA page controls + background music autoplay on load with muted fallback
    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');
    const yesButton = document.getElementById('yesButton');
    const music = document.getElementById('backgroundMusic');
    music.volume = 0.25;
    music.muted = true;
    music.play().catch(() => { /* autoplay blocked fallback */});

    // Unmute music on first interaction (best practice)
    document.body.addEventListener('click', () => {
      if(music.muted) {
        music.muted = false;
        music.play().catch(() => {});
      }
    }, {once:true});

    yesButton.onclick = () => {
      page1.classList.add('exit');
      page1.classList.remove('active');
      setTimeout(() => {
        page2.classList.add('active');
        page2.classList.remove('exit');
      }, 1100);
    };

    /* PIXI.js setup */
    const app = new PIXI.Application({
      view: document.getElementById('pixi-canvas'),
      resizeTo: window,
      transparent: true,
      resolution: window.devicePixelRatio,
      antialias: true,
      alpha: true,
    });

    // Rose petals floating group
    const petals = [];
    const petalCount = 20;
    const petalTexture = PIXI.Texture.from('https://i.ibb.co/gwQhDdD/rose-petal.png');

    for (let i = 0; i < petalCount; i++) {
      const petal = new PIXI.Sprite(petalTexture);
      petal.anchor.set(0.5);
      petal.x = Math.random() * window.innerWidth;
      petal.y = Math.random() * window.innerHeight;
      petal.alpha = 0.65 + Math.random() * 0.30;
      petal.scale.set(0.15 + Math.random() * 0.28);
      petal.rotation = Math.random() * Math.PI * 2;
      petal.angularSpeed = 0.002 + Math.random() * 0.004;
      petal.floatSpeed = 0.3 + Math.random() * 0.6;
      petals.push(petal);
      app.stage.addChild(petal);
    }

    // Golden orb sparkles group, more orbs with gentle glow
    const orbs = [];
    const orbCount = 32;

    for(let i = 0; i < orbCount; i++) {
      const orb = new PIXI.Graphics();
      const color = 0xffd54f;
      const radius = (4 + Math.random() * 10) * (Math.random() < 0.35 ? 1.6 : 1);
      const alpha = 0.12 + Math.random() * 0.25;
      orb.beginFill(color, alpha);
      orb.drawCircle(0, 0, radius);
      orb.endFill();
      orb.x = Math.random() * window.innerWidth;
      orb.y = Math.random() * window.innerHeight;
      orb.vx = (Math.random() - 0.5) * 0.15;
      orb.vy = (Math.random() - 0.5) * 0.15;
      orb.alpha = alpha;
      orbs.push(orb);
      app.stage.addChild(orb);

      if(radius > 9) {
        const glow = new PIXI.Graphics();
        glow.beginFill(color, 0.05);
        glow.drawCircle(0, 0, radius * 2);
        glow.endFill();
        glow.x = orb.x;
        glow.y = orb.y;
        app.stage.addChild(glow);
        app.ticker.add(() => {
          glow.x = orb.x;
          glow.y = orb.y;
        });
      }
    }

    app.ticker.add(() => {
      const width = window.innerWidth;
      const height = window.innerHeight;

      petals.forEach(petal => {
        petal.y += petal.floatSpeed;
        petal.rotation += petal.angularSpeed;
        petal.x += Math.sin(petal.y * 0.01) * 0.7;
        if(petal.y > height + 60) {
          petal.y = -60;
          petal.x = Math.random() * width;
        }
      });

      orbs.forEach(orb => {
        orb.x += orb.vx;
        orb.y += orb.vy;
        if(orb.x < 0 || orb.x > width) orb.vx *= -1;
        if(orb.y < 0 || orb.y > height) orb.vy *= -1;
      });
    });

    // Device orientation parallax subtle
    window.addEventListener('deviceorientation', e => {
      const gamma = e.gamma || 0;
      const beta = e.beta || 0;
      petals.forEach((petal, i) => {
        const offsetX = gamma * 0.1 * (i % 6 + 1);
        const offsetY = beta * 0.1 * ((i + 3) % 6 + 1);
        petal.x += offsetX * 0.04;
        petal.y += offsetY * 0.03;
      });
    }, true);
  </script>
</body>
</html>
