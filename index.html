<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Romantic Date Invitation SPA for Priya</title>
  <!-- Parisienne font for headings/love note, Quicksand for readability -->
  <link href="https://fonts.googleapis.com/css2?family=Parisienne&family=Quicksand:wght@400;600&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>

  <style>
    :root {
      --pink1: #FFE5EC;
      --pink2: #FFC2D1;
      --pink3: #FFB3C6;
      --pink4: #FF8FAB;
      --pink5: #FB6F92;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100vw; height: 100vh; min-height: 100vh;
      background: linear-gradient(135deg, var(--pink1) 0%, var(--pink2) 35%, var(--pink3) 65%, var(--pink5) 100%);
      color: #b51768;
      overflow-x: hidden;
      overscroll-behavior-y: contain;
      background-attachment: fixed;
      font-family: 'Quicksand', Arial, sans-serif;
    }
    #loading {
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      z-index: 1000; font-size: 2.4rem; color: var(--pink5);
      text-shadow: 0 0 8px #fff, 0 0 20px var(--pink4);
      font-family: 'Parisienne', cursive;
      animation: blinkLoading 1.8s infinite; user-select: none;
    }
    #app {
      min-height: 100vh; min-width: 100vw;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      text-align: center;
      background: transparent; z-index: 10; position: relative;
      transform-style: preserve-3d;
      cursor: url('https://cdn-icons-png.flaticon.com/512/616/616408.png') 15 15, auto;
    }
    canvas#pixi-canvas {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      user-select: none; pointer-events: none; z-index: 0; will-change: transform;
      filter: drop-shadow(0 0 20px var(--pink5));
    }
    .page {
      width: 100vw; min-height: 100vh;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      background: transparent;
      position: absolute; top: 0; left: 0;
      padding: 0 6vw;
      opacity: 0; pointer-events: none;
      transition: opacity 1s, transform 0.8s cubic-bezier(.33,1,.68,1);
      user-select: text;
      z-index: 10;
      transform-style: preserve-3d;
    }
    .page.active { opacity: 1; pointer-events: auto; z-index: 20; transform: translateY(0);}
    .page.exit { opacity: 0; pointer-events: none; transform: translateY(30px); z-index: 5;}
    h1 {
      font-family: 'Parisienne', cursive;
      font-size: 2.7rem; max-width: 760px; color: var(--pink5);
      letter-spacing: 0.05em;
      text-shadow: 0 0 14px var(--pink3), 0 2px 0 var(--pink2);
      margin-top: 7vh; margin-bottom: 1.5rem;
      user-select: text;
    }
    h1::before {
      content: "";
      position: absolute;
      top: 44%;
      left: -7%;
      width: 114%;
      height: 12px;
      background: linear-gradient(90deg, transparent, var(--pink3), transparent);
      opacity: 0.42;
      transform: translateX(-100%) translateY(-50%) rotate(8deg);
      animation: shine 4.5s linear infinite;
      border-radius: 50%;
      pointer-events: none;
    }
    p {
      font-size: 1.18rem; max-width: 580px; font-weight: 600;
      margin-bottom: 2.1rem; line-height: 1.62;
      color: #b51768; letter-spacing: 0.045em;
      font-family: 'Quicksand', Arial, sans-serif;
      animation: fadeInSlideUp 1.4s cubic-bezier(.66,1.13,.58,1.1) forwards;
      user-select: text;
      text-shadow: 0 1px 5px var(--pink2);
    }
    #loveNote {
      font-family: 'Parisienne', cursive !important;
      font-size: 1.15rem;
      max-width: 420px;
      color: #d2487f;
      background: rgba(255 240 250 / 0.94);
      padding: 24px 36px;
      border-radius: 28px;
      box-shadow: 0 15px 38px rgba(251, 106, 144, 0.15);
      position: fixed;
      bottom: 120px; right: 38px;
      display: none;
      z-index: 31;
      text-align: center;
      line-height: 2.05;
      letter-spacing: 0.11em;
      font-weight: 600;
    }
    #roseHeart {
      position: fixed;
      bottom: 35px;
      right: 38px;
      width: 60px;
      height: 60px;
      background: url('https://cdn-icons-png.flaticon.com/512/833/833472.png') no-repeat center center / contain;
      filter: drop-shadow(0 0 13px var(--pink4));
      cursor: pointer;
      opacity: 0.86;
      border-radius: 50%;
      user-select: none;
      z-index: 30;
      transition: transform 0.33s ease, opacity 0.3s ease;
    }
    #roseHeart:hover { transform: scale(1.18) rotate(7deg); opacity: 1; }
    button {
      font-family: 'Quicksand', Arial, sans-serif;
      padding: 15px 48px;
      font-size: 1.19rem;
      font-weight: 700;
      letter-spacing: 0.06em;
      cursor: pointer;
      border: none;
      border-radius: 44px;
      background: linear-gradient(135deg, var(--pink4), var(--pink5));
      color: white;
      box-shadow: 0 7px 22px var(--pink5), 0 0 18px var(--pink3);
      user-select: none;
      margin-bottom: 1.6rem;
      transition: all 0.33s cubic-bezier(0.4, 0, 0.2, 1);
    }
    button:hover, button:focus {
      background: linear-gradient(135deg, var(--pink3), var(--pink4));
      box-shadow: 0 10px 28px var(--pink5), 0 0 20px var(--pink4);
      transform: scale(1.06);
      outline: none;
    }
    button:active {
      transform: scale(0.96);
      box-shadow: 0 6px 17px var(--pink4);
    }
    .gallery-container {
      position: relative;
      width: 90vw; max-width: 520px; min-width: 240px;
      height: 58vw; max-height: 70vh; min-height: 160px;
      margin: 26px auto 18px auto;
      background: var(--pink1);
      border-radius: 22px;
      box-shadow: 0 10px 38px var(--pink2)55;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .gallery-slide {
      position: absolute;
      width: 100%; height: 100%;
      opacity: 0; z-index: 1;
      border-radius: 22px;
      background: var(--pink1);
      display: flex; align-items: center; justify-content: center;
      transition: opacity 0.8s cubic-bezier(.54,1.2,.55,1.08);
    }
    .gallery-slide.active { opacity: 1; z-index: 2; }
    .gallery-slide img {
      width: 100%; height: 100%;
      object-fit: cover;
      border-radius: 20px;
      box-shadow: 0 5px 20px var(--pink2)99;
      display: block;
    }
    .gallery-nav {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      font-size: 3rem;
      color: var(--pink5);
      background: rgba(255,255,255,0.78);
      border: none;
      border-radius: 50%;
      width: 54px; height: 54px;
      box-shadow: 0 3px 18px var(--pink4)55, 0 0 12px #fff6fb;
      cursor: pointer;
      z-index: 10;
      opacity: 0.85;
      display: flex; align-items: center; justify-content: center;
      transition: box-shadow 0.3s, background 0.3s, opacity 0.2s, color 0.2s;
      user-select: none;
    }
    .gallery-nav:active {
      background: var(--pink4); color: #fff;
      box-shadow: 0 6px 18px var(--pink5)ee;
      opacity: 1;
    }
    .gallery-prev { left: 12px; }
    .gallery-next { right: 12px; }
    @media (max-width: 600px) {
      .gallery-container {
        width: 98vw; max-width: 100vw; min-width: 0;
        height: 58vw; max-height: 70vw; min-height:100px;
        border-radius: 17px;
      }
      .gallery-nav {
        width: 44px; height: 44px;
        font-size: 2.1rem;
      }
      h1 { font-size: 2rem; }
      #loveNote { width: 83vw; bottom: 54px; right: 5vw; font-size: 1rem; }
      #roseHeart { width: 34px; height:34px; bottom: 8px; right: 8px; }
      button { font-size: 1rem; padding: 12px 29px; }
    }
    @keyframes fadeInSlideDown { 0% { opacity: 0; transform: translateY(-28px); } 100% { opacity: 1; transform: translateY(0); } }
    @keyframes fadeInSlideUp { 0% { opacity: 0; transform: translateY(28px); } 100% { opacity: 1; transform: translateY(0); } }
    @keyframes shine { 0% { transform: translateX(-110%) translateY(-50%) rotate(12deg); } 100% { transform: translateX(120%) translateY(-50%) rotate(12deg); } }
    @keyframes blinkLoading { 0%,50%,100%{opacity:1;} 25%,75%{opacity:0;} }
  </style>
</head>
<body>
  <div id="loading">‚ù§ Loading...</div>
  <canvas id="pixi-canvas" aria-hidden="true"></canvas>
  <audio id="backgroundMusic" src="song.mp3" loop autoplay muted></audio>
  <div id="app" aria-live="polite" hidden>
    <section id="page1" class="page active" aria-label="Invitation landing page">
      <h1>The weather is beautiful, the air is calling,<br>& all I need is my beautiful wife by my side.</h1>
      <p>
        Would you like to join me for a date day tomorrow on the fine Saturday of August 23, in the big year of 2025?<br>
        I would love to court you across the big apple.
      </p>
      <button id="yesButton" aria-label="Yes, I would like to join you for the date">Yes</button>
    </section>
    <section id="page2" class="page" aria-label="Romantic date vibe page">
      <h1>Welcome to Our Date Night, Priya</h1>
      <p>
        Imagine a day full of delicious food that originated from more than 2000 years ago, art whispering stories,
        drinks sparkling softly, roses, gentle jasmine filling the air, and love letters waiting to be unfolded.
      </p>
      <div class="gallery-container" id="gallery">
        <button class="gallery-nav gallery-prev" aria-label="Previous photo">&#10094;</button>
        <div class="gallery-slide active"><img src="Photo 1.jpg" alt="Photo 1"></div>
        <div class="gallery-slide"><img src="Photo 2.jpg" alt="Photo 2"></div>
        <div class="gallery-slide"><img src="Photo 3.jpg" alt="Photo 3"></div>
        <button class="gallery-nav gallery-next" aria-label="Next photo">&#10095;</button>
      </div>
    </section>
  </div>
  <div id="roseHeart" tabindex="0" aria-label="Click to show love note" title="Click to show love note"></div>
  <div id="loveNote" role="alert" aria-live="polite">
    I love you Priya.<br>
    I hope you like this little creation I made ra.<br>
    Tomorrow will be an amazing day & I can't wait for it to begin :)
  </div>
  <script>
    window.onload = () => {
      const loading = document.getElementById('loading');
      const app = document.getElementById('app');
      loading.style.opacity = '0';
      setTimeout(() => {
        loading.style.display = 'none';
        app.hidden = false;
      }, 1000);
    };
    const music = document.getElementById('backgroundMusic');
    music.volume = 0.3; music.play().catch(() => {});
    document.body.addEventListener('click', () => {
      if(music.muted) { music.muted = false; music.play().catch(() => {});}
    }, {once:true});
    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');
    const yesButton = document.getElementById('yesButton');
    yesButton.onclick = () => {
      page1.classList.add('exit');
      page1.classList.remove('active');
      setTimeout(() => {
        page2.classList.add('active');
        page2.classList.remove('exit');
      }, 1000);
    };
    const roseHeart = document.getElementById('roseHeart');
    const loveNote = document.getElementById('loveNote');
    function toggleLoveNote() {
      if(loveNote.style.display === 'block') { loveNote.style.display = 'none'; roseHeart.style.opacity = 0.88; }
      else { loveNote.style.display = 'block'; roseHeart.style.opacity = 1; }
    }
    roseHeart.addEventListener('click', toggleLoveNote);
    roseHeart.addEventListener('keypress', e => {
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleLoveNote(); }
    });
    const appPixi = new PIXI.Application({
      view: document.getElementById('pixi-canvas'),
      resizeTo: window,
      transparent: true,
      resolution: window.devicePixelRatio,
      antialias: true,
      alpha: true,
    });
    const petals = [], petalCount = 18;
    const petalTexture = PIXI.Texture.from('https://i.ibb.co/gwQhDdD/rose-petal.png');
    for(let i=0; i<petalCount; i++){
      const petal = new PIXI.Sprite(petalTexture);
      petal.anchor.set(0.5);
      petal.x = Math.random() * window.innerWidth;
      petal.y = Math.random() * window.innerHeight;
      petal.alpha = 0.55 + Math.random() * 0.4;
      petal.scale.set(0.13 + Math.random() * 0.26);
      petal.rotation = Math.random() * Math.PI * 2;
      petal.angularSpeed = 0.002 + Math.random() * 0.004;
      petal.floatSpeed = 0.23 + Math.random() * 0.42;
      petals.push(petal);
      appPixi.stage.addChild(petal);
    }
    const orbs = [], orbCount = 56;
    for(let i=0;i<orbCount;i++){
      const orb = new PIXI.Graphics();
      const palette = [0xffe5ec, 0xffc2d1, 0xffb3c6, 0xff8fab, 0xfb6f92, 0xffd700];
      const color = palette[Math.floor(Math.random() * palette.length)];
      const radius = (4 + Math.random() * 12) * (Math.random() < 0.33 ? 1.27 : 1);
      const alpha = 0.12 + Math.random() * 0.19;
      orb.beginFill(color, alpha);
      orb.drawCircle(0, 0, radius);
      orb.endFill();
      orb.x = Math.random() * window.innerWidth;
      orb.y = Math.random() * window.innerHeight;
      orb.vx = (Math.random() - 0.5) * 0.13;
      orb.vy = (Math.random() - 0.5) * 0.13;
      orb.alpha = alpha;
      orbs.push(orb);
      appPixi.stage.addChild(orb);
      if (radius > 9) {
        const glow = new PIXI.Graphics();
        glow.beginFill(color, 0.035);
        glow.drawCircle(0, 0, radius * 2.3);
        glow.endFill();
        glow.x = orb.x;
        glow.y = orb.y;
        appPixi.stage.addChild(glow);
        appPixi.ticker.add(() => {
          glow.x = orb.x;
          glow.y = orb.y;
        });
      }
    }
    appPixi.ticker.add(() => {
      const width = window.innerWidth,
        height = window.innerHeight;
      petals.forEach((petal) => {
        petal.y += petal.floatSpeed;
        petal.rotation += petal.angularSpeed;
        petal.x += Math.sin(petal.y * 0.011) * 0.74;
        if (petal.y > height + 60) {
          petal.y = -60;
          petal.x = Math.random() * width;
        }
      });
      orbs.forEach((orb) => {
        orb.x += orb.vx;
        orb.y += orb.vy;
        if (orb.x < 0 || orb.x > width) orb.vx *= -1;
        if (orb.y < 0 || orb.y > height) orb.vy *= -1;
      });
    });
    window.addEventListener(
      "deviceorientation",
      (e) => {
        const gamma = e.gamma || 0,
          beta = e.beta || 0;
        petals.forEach((petal, i) => {
          const offsetX = gamma * 0.1 * ((i % 6) + 1),
            offsetY = beta * 0.1 * (((i + 3) % 6) + 1);
          petal.x += offsetX * 0.04;
          petal.y += offsetY * 0.03;
        });
      },
      true
    );
    // Gallery controls & swipe
    const gallerySection = document.getElementById("gallery");
    const slides = gallerySection.querySelectorAll(".gallery-slide");
    const prevBtn = gallerySection.querySelector(".gallery-prev");
    const nextBtn = gallerySection.querySelector(".gallery-next");
    let currentSlide = 0;
    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle("active", i === index);
      });
      currentSlide = index;
    }
    prevBtn.addEventListener("click", () => {
      showSlide((currentSlide - 1 + slides.length) % slides.length);
    });
    nextBtn.addEventListener("click", () => {
      showSlide((currentSlide + 1) % slides.length);
    });
    let touchStartX = 0, touchEndX = 0;
    gallerySection.addEventListener("touchstart", (e) => {
      touchStartX = e.changedTouches[0].screenX;
    });
    gallerySection.addEventListener("touchend", (e) => {
      touchEndX = e.changedTouches[0].screenX;
      if (touchEndX < touchStartX - 30) nextBtn.click();
      else if (touchEndX > touchStartX + 30) prevBtn.click();
    });
  </script>
</body>
</html>
