<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Romantic Date Invitation SPA for Priya</title>
  
  <!-- Load Andalusia Script font from Google Fonts alternative (Andalusia is an older font, so we use a similar Script font called 'Allura' as a good web-safe substitute) -->
  <link href="https://fonts.googleapis.com/css2?family=Allura&display=swap" rel="stylesheet" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>

  <style>
    /* Reset and base */
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    html, body {
      height: 100%;
      width: 100%;
      overflow-x: hidden;
      font-family: 'Allura', cursive;
      background:
        radial-gradient(circle at 25% 45%, rgba(255 235 180 / 0.3), transparent 80%),
        radial-gradient(circle at 75% 60%, rgba(255 220 150 / 0.35), transparent 70%),
        linear-gradient(135deg, #fef6f3 20%, #f8d5b3 70%);
      color: #4c2c07;
      user-select: none;
      touch-action: manipulation;
      overscroll-behavior-y: contain;
      position: relative;
      perspective: 900px;
      overflow-y: hidden;
    }
    #app {
      height: 100vh;
      width: 100vw;
      position: relative;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
      text-align: center;
      background: transparent;
      z-index: 10;
      transform-style: preserve-3d;
      cursor: url('https://cdn-icons-png.flaticon.com/512/616/616408.png') 15 15, auto; /* Heart-shaped cursor URL */
    }

    /* NYC silhouette subtle dark skyline */
    #nyc-silhouette {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100vw;
      height: 18vh;
      background: url('https://i.ibb.co/MVnPstX/nyc-silhouette-transparent.png') no-repeat bottom center;
      background-size: cover;
      filter: drop-shadow(0 0 5px rgba(0,0,0,0.07));
      pointer-events: none;
      opacity: 0.1;
      z-index: 1;
      user-select: none;
      transform: translateZ(-150px) scale(1.1);
    }

    /* Pixi canvas for dynamic background */
    canvas#pixi-canvas {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      user-select: none;
      pointer-events: none;
      z-index: 0;
      will-change: transform;
      filter: drop-shadow(0 0 15px rgba(255 215 0 / 0.35));
    }

    /* Pages styling and transitions */
    .page {
      position: absolute;
      width: 100%;
      min-height: 100vh;
      top: 0;
      left: 0;
      background: transparent;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 1.2s cubic-bezier(0.4,0,0.2,1), transform 0.9s ease-out;
      user-select: text;
      padding: 0 15px;
      z-index: 10;
      transform-style: preserve-3d;
      overflow-wrap: break-word;
    }
    .page.active {
      opacity: 1;
      pointer-events: auto;
      z-index: 20;
      transform: translateY(0);
    }
    .page.exit {
      opacity: 0;
      pointer-events: none;
      transform: translateY(50px);
      z-index: 5;
    }

    /* Heading styling with shine and stroke */
    h1 {
      font-size: 4rem;
      max-width: 650px;
      color: #592f0d;
      letter-spacing: 0.06em;
      text-shadow:
        0 0 10px rgba(255 204 102 / 0.85),
        0 0 20px rgba(236 182 72 / 0.85),
        0 0 35px rgba(255 207 80 / 0.66);
      position: relative;
      animation: fadeInSlideDown 1.3s ease forwards;
      cursor: default;
      user-select: text;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    h1::before {
      content: "";
      position: absolute;
      top: 50%;
      left: -7%;
      width: 115%;
      height: 16px;
      background: linear-gradient(90deg, transparent, #ffd858, transparent);
      opacity: 0.45;
      transform: translateX(-100%) translateY(-50%) rotate(12deg);
      animation: shine 4.5s linear infinite;
      border-radius: 50%;
      pointer-events: none;
    }

    /* Paragraph text without outlines, warm and clear */
    p {
      font-family: 'Georgia', serif;
      font-size: 1.3rem;
      max-width: 500px;
      font-weight: 500;
      margin-top: 28px;
      margin-bottom: 40px;
      line-height: 1.6;
      color: #5f3a15;
      letter-spacing: 0.03em;
      animation: fadeInSlideUp 1.7s ease forwards;
      user-select: text;
      text-shadow: 0 0 5px rgba(255 240 195 / 0.25);
    }

    /* Gentle glowing clickable rose heart */
    #roseHeart {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 60px;
      height: 60px;
      background: url('https://cdn-icons-png.flaticon.com/512/833/833472.png') no-repeat center center / contain;
      filter: drop-shadow(0 0 6px #ff6c91);
      cursor: pointer;
      opacity: 0.85;
      transition: transform 0.4s ease, opacity 0.5s ease;
      z-index: 30;
      user-select: none;
    }
    #roseHeart:hover {
      transform: scale(1.2) rotate(15deg);
      opacity: 1;
      filter: drop-shadow(0 0 12px #ff87a7);
    }
    #loveNote {
      position: fixed;
      bottom: 100px;
      right: 40px;
      width: 240px;
      padding: 15px 20px;
      background: rgba(255 248 240 / 0.95);
      border-radius: 15px;
      box-shadow: 0 6px 25px rgba(255 119 140 / 0.55);
      font-family: 'Georgia', serif;
      color: #8c3c49;
      font-style: italic;
      font-weight: 600;
      display: none;
      user-select: text;
      z-index: 31;
    }

    /* Button styling */
    button {
      padding: 18px 60px;
      font-size: 1.5rem;
      font-weight: 700;
      border: none;
      border-radius: 50px;
      background: linear-gradient(135deg, #ffd54f 0%, #c49513 100%);
      color: #4c3206;
      letter-spacing: 0.06em;
      cursor: pointer;
      box-shadow:
        0 5px 22px rgba(255, 215, 68, 0.8),
        0 0 22px #ffd54f;
      transition: all 0.45s cubic-bezier(0.4,0,0.2,1);
      animation: fadeInSlideUp 2s ease forwards;
      user-select: none;
      will-change: transform, box-shadow;
      transform-style: preserve-3d;
    }
    button:hover, button:focus {
      background: linear-gradient(135deg, #ffea6c 0%, #e3b431 100%);
      box-shadow:
        0 9px 30px rgba(255, 238, 92, 0.92),
        0 0 25px #ffe75f;
      transform: translateZ(7px) scale(1.08);
      outline: none;
    }
    button:active {
      transform: translateZ(0) scale(0.95);
      box-shadow: 0 4px 15px rgba(204, 153, 0, 0.9);
    }

    /* Loading animation */
    #loading {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 1000;
      font-family: 'Allura', cursive;
      font-size: 3rem;
      color: #d95769;
      text-shadow:
        0 0 8px #fff, 
        0 0 20px #ff4f72;
      animation: blinkLoading 1.8s infinite;
      user-select: none;
    }
    @keyframes blinkLoading {
      0%, 50%, 100% {opacity: 1;}
      25%, 75% {opacity: 0;}
    }

    /* Responsive */
    @media (max-width: 600px) {
      h1 { font-size: 2.8rem; }
      p { font-size: 1.15rem; max-width: 90vw; }
      button { font-size: 1.25rem; padding: 14px 50px; }
      #roseHeart { width: 50px; height: 50px; bottom: 20px; right: 20px; }
      #loveNote { width: 200px; bottom: 80px; right: 25px; font-size: 1rem; }
    }

    /* Animations */
    @keyframes fadeInSlideDown { 0% {opacity:0; transform: translateY(-28px);} 100% {opacity:1; transform: translateY(0);} }
    @keyframes fadeInSlideUp { 0% {opacity:0; transform: translateY(28px);} 100% {opacity:1; transform: translateY(0);} }
    @keyframes shine { 0% {transform: translateX(-110%) translateY(-50%) rotate(12deg);} 100% {transform: translateX(120%) translateY(-50%) rotate(12deg);} }
  </style>
</head>
<body>
  
  <!-- Loading animation before content -->
  <div id="loading">‚ù§ Loading...</div>
  
  <canvas id="pixi-canvas" aria-hidden="true"></canvas>
  <audio id="backgroundMusic" src="song.mp3" loop autoplay muted></audio>

  <div id="app" aria-live="polite" hidden>
    <div id="nyc-silhouette" aria-hidden="true"></div>

    <section id="page1" class="page active" aria-label="Invitation landing page">
      <h1>The weather is beautiful, the air is calling,<br />
      & all I need is my beautiful wife by my side.</h1>
      <p>Would you like to join me for a date day tomorrow on the fine Saturday of August 23, in the big year of 2025?<br />I would love to court you across the big apple.</p>
      <button id="yesButton" aria-label="Yes, I would like to join you for the date">Yes</button>
    </section>

    <section id="page2" class="page" aria-label="Romantic date vibe page">
      <h1>Welcome to Our Date Night, Priya</h1>
      <p>
        Imagine a day full of delicious food that originated from more than 2000 years ago, art whispering stories,
        drinks sparkling softly, roses, gentle jasmine filling the air, and love letters waiting to be unfolded.
      </p>
    </section>
  </div>

  <!-- Interactive clickable rose heart -->
  <div id="roseHeart" tabindex="0" aria-label="Click to show love note" title="Click to show love note"></div>
  <div id="loveNote" role="alert" aria-live="polite">
    My dearest Priya,<br />
    Every moment with you is a beautiful story waiting to unfold. I love you beyond words.
  </div>

  <script>
    // Loading fadeout
    window.onload = () => {
      const loading = document.getElementById('loading');
      const app = document.getElementById('app');
      loading.style.opacity = '0';
      setTimeout(() => {
        loading.style.display = 'none';
        app.hidden = false;
      }, 1200);
    };

    // Music setup: start muted, auto play, unmute on first interaction for best compliance
    const music = document.getElementById('backgroundMusic');
    music.volume = 0.25;
    music.play().catch(() => {});

    // Unmute on first click anywhere
    document.body.addEventListener('click', () => {
      if(music.muted) {
        music.muted = false;
        music.play().catch(() => {});
      }
    }, {once:true});

    // SPA pages control & transition
    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');
    const yesButton = document.getElementById('yesButton');

    yesButton.onclick = () => {
      page1.classList.add('exit');
      page1.classList.remove('active');
      setTimeout(() => {
        page2.classList.add('active');
        page2.classList.remove('exit');
      }, 1100);
    };

    // Read love note toggle on rose heart click/focus + keyboard Enter key
    const roseHeart = document.getElementById('roseHeart');
    const loveNote = document.getElementById('loveNote');

    function toggleLoveNote() {
      if(loveNote.style.display === 'block') {
        loveNote.style.display = 'none';
        roseHeart.style.opacity = 0.85;
      } else {
        loveNote.style.display = 'block';
        roseHeart.style.opacity = 1;
      }
    }
    roseHeart.addEventListener('click', toggleLoveNote);
    roseHeart.addEventListener('keypress', (e) => {
      if(e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggleLoveNote();
      }
    });

    // PIXI.js background
    const app = new PIXI.Application({
      view: document.getElementById('pixi-canvas'),
      resizeTo: window,
      transparent: true,
      resolution: window.devicePixelRatio,
      antialias: true,
      alpha: true,
    });

    // Floating rose petals
    const petals = [];
    const petalCount = 20;
    const petalTexture = PIXI.Texture.from('https://i.ibb.co/gwQhDdD/rose-petal.png');

    for (let i = 0; i < petalCount; i++) {
      const petal = new PIXI.Sprite(petalTexture);
      petal.anchor.set(0.5);
      petal.x = Math.random() * window.innerWidth;
      petal.y = Math.random() * window.innerHeight;
      petal.alpha = 0.65 + Math.random() * 0.30;
      petal.scale.set(0.15 + Math.random() * 0.28);
      petal.rotation = Math.random() * Math.PI * 2;
      petal.angularSpeed = 0.002 + Math.random() * 0.004;
      petal.floatSpeed = 0.3 + Math.random() * 0.6;
      petals.push(petal);
      app.stage.addChild(petal);
    }

    // Golden orb sparkles group, more orbs with gentle glow
    const orbs = [];
    const orbCount = 32;

    for(let i = 0; i < orbCount; i++) {
      const orb = new PIXI.Graphics();
      const color = 0xffd54f;
      const radius = (4 + Math.random() * 10) * (Math.random() < 0.35 ? 1.6 : 1);
      const alpha = 0.12 + Math.random() * 0.25;
      orb.beginFill(color, alpha);
      orb.drawCircle(0, 0, radius);
      orb.endFill();
      orb.x = Math.random() * window.innerWidth;
      orb.y = Math.random() * window.innerHeight;
      orb.vx = (Math.random() - 0.5) * 0.15;
      orb.vy = (Math.random() - 0.5) * 0.15;
      orb.alpha = alpha;
      orbs.push(orb);
      app.stage.addChild(orb);

      if(radius > 9) {
        const glow = new PIXI.Graphics();
        glow.beginFill(color, 0.05);
        glow.drawCircle(0, 0, radius * 2);
        glow.endFill();
        glow.x = orb.x;
        glow.y = orb.y;
        app.stage.addChild(glow);
        app.ticker.add(() => {
          glow.x = orb.x;
          glow.y = orb.y;
        });
      }
    }

    // Animate petals and orbs with gentle floating and drift
    app.ticker.add(() => {
      const width = window.innerWidth;
      const height = window.innerHeight;

      petals.forEach(petal => {
        petal.y += petal.floatSpeed;
        petal.rotation += petal.angularSpeed;
        petal.x += Math.sin(petal.y * 0.01) * 0.7;
        if(petal.y > height + 60) {
          petal.y = -60;
          petal.x = Math.random() * width;
        }
      });

      orbs.forEach(orb => {
        orb.x += orb.vx;
        orb.y += orb.vy;
        if(orb.x < 0 || orb.x > width) orb.vx *= -1;
        if(orb.y < 0 || orb.y > height) orb.vy *= -1;
      });
    });

    // Device orientation parallax subtle
    window.addEventListener('deviceorientation', e => {
      const gamma = e.gamma || 0;
      const beta = e.beta || 0;
      petals.forEach((petal, i) => {
        const offsetX = gamma * 0.1 * (i % 6 + 1);
        const offsetY = beta * 0.1 * ((i + 3) % 6 + 1);
        petal.x += offsetX * 0.04;
        petal.y += offsetY * 0.03;
      });
    }, true);

  </script>
</body>
</html>
