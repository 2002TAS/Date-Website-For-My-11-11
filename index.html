<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Romantic Invitation for Priya</title>
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=La+Belle+Aurore&family=Parisienne&family=Quicksand:wght@600&family=Great+Vibes&display=swap" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>
  <style>
    :root {
      --pink1: #FFE5EC;
      --pink2: #FFC2D1;
      --pink3: #FFB6C2;
      --pink4: #FF94B4;
      --pink5: #FB6F92;
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100vw; height: 100vh; min-height: 100vh;
      background: linear-gradient(135deg, var(--pink1) 0%, var(--pink2) 35%, var(--pink3) 65%, var(--pink5) 100%);
      font-family: 'Quicksand', Arial, sans-serif;
      color: #b35088;
      overflow-x: hidden;
      overscroll-behavior: contain;
      background-attachment: fixed;
    }
    #app {
      height: 100vh;
      width: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      background: transparent;
      position: relative;
      z-index: 10;
      cursor: url("https://cdn.iconscout.com/icon/free/png-256/heart-170-458970.png"), auto;
      transform-style: preserve-3d;
    }
    canvas#pixi-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      user-select: none;
      pointer-events: none;
      z-index: 0;
      will-change: transform;
      filter: drop-shadow(0 0 15px var(--pink5));
    }
    .page {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      background: transparent;
      padding: 0 6vw;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.5s ease, transform 0.5s cubic-bezier(0.33, 1, 0.68, 1);
      user-select: text;
      z-index: 10;
      transform-style: preserve-3d;
    }
    .page.active {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
      z-index: 20;
    }
    .page.exit {
      opacity: 0;
      pointer-events: none;
      transform: translateY(30px);
      z-index: 5;
    }
    h1 {
      font-family: 'Parisienne', cursive;
      font-size: 2.2rem;
      max-width: 750px;
      color: var(--pink5);
      letter-spacing: 0.06em;
      margin: 0 0 1.3rem 0;
      user-select: text;
      text-shadow: 0 2px 20px var(--pink4), 0 0 20px var(--pink5);
      position: relative;
    }
    h1::before {
      content: "";
      position: absolute;
      top: 50%;
      left: -6%;
      width: 115%;
      height: 14px;
      background: linear-gradient(135deg, transparent, var(--pink4), transparent);
      opacity: 0.42;
      transform: translateX(-100%) translateY(-50%) rotate(7deg);
      animation: shine 4.5s linear infinite;
      border-radius: 50%;
      pointer-events: none;
    }
    p.lap {
      font-family: 'La Belle Aurore', cursive;
      font-size: 0.7rem; /* 1.6rem - 0.3rem*3 = 0.7rem */
      max-width: 570px;
      margin: 1.2rem auto 2.2rem auto;
      color: #cc3577;
      text-shadow: 0 0 5px var(--pink4);
      letter-spacing: 0.045em;
      line-height: 1.57;
      user-select: text;
      font-weight: 400;
      text-align: center;
    }
    button {
      font-family: 'Great Vibes', cursive;
      padding: 10px 25px;
      font-size: 1.85rem;
      font-weight: 600;
      letter-spacing: 0.09em;
      cursor: pointer;
      border: none;
      border-radius: 38px;
      background: linear-gradient(135deg, var(--pink4), var(--pink5));
      color: white;
      box-shadow: 0 0 30px var(--pink5);
      user-select: none;
      margin: 1rem 0 2.5rem 0;
      transition: background 0.3s, transform 0.2s, box-shadow 0.3s;
      z-index: 30;
    }
    button:hover,
    button:focus {
      background: linear-gradient(135deg, var(--pink5), var(--pink4));
      transform: scale(1.11);
      box-shadow: 0 0 38px var(--pink5);
      outline: none;
    }
    button:active {
      transform: scale(0.93);
      box-shadow: 0 0 9px var(--pink4);
    }
    #loveNote {
      font-family: 'La Belle Aurore', cursive;
      font-size: 0.95rem;
      max-width: 420px;
      color: var(--pink5);
      background: rgba(255, 240, 250, 0.95);
      padding: 17px 24px;
      border-radius: 17px;
      box-shadow: 0 12px 26px rgba(251, 107, 143, 0.19);
      position: fixed;
      bottom: 100px;
      right: 24px;
      user-select: text;
      z-index: 31;
      opacity: 1;
      transition: opacity 0.3s ease, transform 0.3s ease;
      pointer-events: auto;
      text-align: center;
      display: none;
    }
    #loveNote.show {
      display: block;
    }
    #roseHeart {
      position: fixed;
      right: 22px;
      bottom: 22px;
      width: 46px;
      height: 46px;
      background: url("https://cdn-icons-png.flaticon.com/512/833/833472.png")
        no-repeat center;
      background-size: contain;
      cursor: pointer;
      user-select: none;
      z-index: 40;
      filter: drop-shadow(0 0 15px var(--pink4));
      transition: filter 0.2s, opacity 0.25s, transform 0.22s;
      opacity: 0.97;
      border: none;
      outline: none;
      border-radius: 50%;
      display: block;
    }
    #roseHeart.pop {
      animation: popAnim 0.4s cubic-bezier(0.69, 1.7, 0.53, 0.88);
      filter: drop-shadow(0 0 30px var(--pink5));
      transform: scale(1.12) rotate(-8deg);
    }
    #roseHeart:hover {
      opacity: 1;
      filter: drop-shadow(0 0 30px var(--pink5));
      transform: scale(1.07);
    }
    .gallery-container {
      position: relative;
      width: 95vw;
      max-width: 456px; /* 400 * 1.14 ≈ 456 */
      min-width: 220px;
      height: auto;
      margin: 18px auto;
      display: flex;
      justify-content: center;
    }
    .gallery-container img {
      max-width: 100%;
      width: 112%;
      height: auto;
      object-fit: contain;
      border-radius: 19px;
      box-shadow: 0 0 20px var(--pink4);
      margin: 0 auto;
      filter: drop-shadow(0 0 16px var(--pink4));
    }
    @media (max-width: 650px) {
      .gallery-container {
        max-width: 258px;
        margin: 14px auto;
      }
      .gallery-container img {
        max-height: 125px;
      }
      h1 {
        font-size: 1.19rem;
      }
      p.lap {
        font-size: 0.55rem;
      }
      button {
        font-size: 1.18rem;
        padding: 8px 16px;
      }
      #loveNote {
        max-width: 90vw;
        font-size: 0.77rem;
        bottom: 57px;
        right: 8vw;
        padding: 10px 7px;
      }
      #roseHeart {
        width: 32px;
        height: 32px;
        bottom: 9px;
        right: 9px;
      }
    }
    @keyframes shine {
      0% {
        transform: translateX(-100%) translateY(-50%) rotate(7deg);
      }
      100% {
        transform: translateX(110%) translateY(-50%) rotate(7deg);
      }
    }
    @keyframes popAnim {
      0% {
        transform: scale(1) rotate(0deg);
      }
      10% {
        transform: scale(1.17) rotate(-11deg);
      }
      35% {
        transform: scale(0.9) rotate(8deg);
      }
      60% {
        transform: scale(1.11) rotate(-5deg);
      }
      100% {
        transform: scale(1) rotate(0deg);
      }
    }
  </style>
</head>
<body>
  <canvas id="pixi-canvas" tabindex="-1" aria-hidden="true"></canvas>

  <div id="app" role="main" aria-live="polite" tabindex="-1">
    <section id="page1" class="page active" aria-label="Invitation message">
      <h1>
        The weather is beautiful, the air calling,<br />&amp; all I need is my beautiful wife by my side.
      </h1>
      <p class="lap">
        Would you like to join me for a date day tomorrow, the fine Saturday of August 23, in the year 2025? I would love to court you across the Big Apple.
      </p>
      <button id="yesButton" aria-label="Confirm attendance for the date">Yes</button>
    </section>
    <section id="page2" class="page" aria-label="Date and vibe" tabindex="-1">
      <h1>Welcome to Our Date Day, Priya</h1>
      <p class="lap">
        Imagine a day full of delicious food that originated over 2000 years ago, art whispering stories, drinks sparkling softly, roses, jasmine filling the air, and love letters waiting to be unfolded.
      </p>
      <div class="gallery-container" id="gallery">
        <img src="Photo 1.jpg" alt="Photo of romantic day" />
      </div>
    </section>
  </div>

  <button
    id="roseHeart"
    type="button"
    aria-pressed="false"
    aria-label="Toggle love note"
    title="Toggle love note"
    style="display: block"
  ></button>
  <div
    id="loveNote"
    role="alert"
    aria-live="assertive"
    tabindex="-1"
    aria-hidden="true"
    class=""
    style="display: none"
  >
    I love you, Priya.<br />I hope you like this little creation.<br />Tomorrow will be an amazing day and I can’t wait.
  </div>
  <script>
    window.onload = () => {
      document.getElementById("app").hidden = false;
    };

    const music = new Audio("song.mp3");
    music.volume = 0.3;
    music.loop = true;

    const yesButton = document.getElementById("yesButton");
    yesButton.addEventListener("click", () => {
      music.play().catch(() => {});
      const page1 = document.getElementById("page1");
      const page2 = document.getElementById("page2");
      page1.classList.add("exit");
      page1.classList.remove("active");
      setTimeout(() => {
        page2.classList.add("active");
        page2.classList.remove("exit");
        page2.focus();
      }, 1000);
    });

    const roseHeart = document.getElementById("roseHeart");
    const loveNote = document.getElementById("loveNote");

    roseHeart.addEventListener("click", () => {
      const isVisible = loveNote.classList.toggle("show");
      loveNote.setAttribute("aria-hidden", !isVisible);
      roseHeart.setAttribute("aria-pressed", isVisible);
      roseHeart.classList.add("pop");
      if (isVisible) {
        loveNote.style.display = "block";
        roseHeart.style.display = "none";
        setTimeout(() => roseHeart.classList.remove("pop"), 350);
        loveNote.focus();
      } else {
        loveNote.style.display = "none";
        roseHeart.style.display = "block";
        setTimeout(() => roseHeart.classList.remove("pop"), 350);
      }
    });

    roseHeart.addEventListener("keypress", (e) => {
      if (e.key === "Enter" || e.key === " ") {
        e.preventDefault();
        roseHeart.click();
      }
    });

    const appPixi = new PIXI.Application({
      view: document.getElementById("pixi-canvas"),
      resize: window,
      transparent: true,
      resolution: window.devicePixelRatio,
      antialias: true,
      alpha: true,
    });

    const petals = [];
    const petalTexture = PIXI.Texture.from(
      "https://cdn.jsdelivr.net/gh/jackadamfadem/romantic-pixijs@main/assets/petal.png"
    );
    for (let i = 0; i < 20; i++) {
      const petal = new PIXI.Sprite(petalTexture);
      petal.anchor.set(0.5);
      petal.x = Math.random() * window.innerWidth;
      petal.y = Math.random() * window.innerHeight;
      petal.alpha = 0.6 + Math.random() * 0.35;
      petal.scale.set(0.14 + Math.random() * 0.3);
      petal.rotation = Math.random() * Math.PI * 2;
      petal.angularSpeed = 0.002 + Math.random() * 0.004;
      petal.floatSpeed = 0.25 + Math.random() * 0.5;
      petals.push(petal);
      appPixi.stage.addChild(petal);
    }

    const orbs = [];
    const colors = [0xffe5ec, 0xffc2d1, 0xffb6c2, 0xff94b4, 0xfb6f92, 0xffd700];
    for (let i = 0; i < 60; i++) {
      const orb = new PIXI.Graphics();
      const color = colors[Math.floor(Math.random() * colors.length)];
      const radius = (3 + Math.random() * 10) * (Math.random() < 0.3 ? 1.5 : 1);
      const alpha = 0.12 + Math.random() * 0.25;
      orb.beginFill(color, alpha);
      orb.drawCircle(0, 0, radius);
      orb.endFill();
      orb.x = Math.random() * window.innerWidth;
      orb.y = Math.random() * window.innerHeight;
      orb.vx = (Math.random() - 0.5) * 0.15;
      orb.vy = (Math.random() - 0.5) * 0.15;
      orb.alpha = alpha;
      orbs.push(orb);
      appPixi.stage.addChild(orb);
      if (radius > 9) {
        const glow = new PIXI.Graphics();
        glow.beginFill(color);
        glow.drawCircle(0, 0, radius * 2.2);
        glow.endFill();
        glow.alpha = 0.3 * alpha;
        glow.x = orb.x;
        glow.y = orb.y;
        appPixi.stage.addChild(glow);
      }
    }
    appPixi.ticker.add(() => {
      const width = window.innerWidth,
        height = window.innerHeight;
      petals.forEach((petal) => {
        petal.y += petal.floatSpeed;
        petal.rotation += petal.angularSpeed;
        petal.x += Math.sin(petal.y * 0.011) * 0.65;
        if (petal.y > height + 60) {
          petal.y = -60;
          petal.x = Math.random() * width;
        }
      });
      orbs.forEach((orb) => {
        orb.x += orb.vx;
        orb.y += orb.vy;
        if (orb.x < 0 || orb.x > width) orb.vx *= -1;
        if (orb.y < 0 || orb.y > height) orb.vy *= -1;
      });
    });
    window.addEventListener("deviceorientation", (e) => {
      const gamma = e.gamma || 0,
        beta = e.beta || 0;
      petals.forEach((petal, i) => {
        const offsetX = gamma * 0.025 * ((i % 6) + 1),
          offsetY = beta * 0.03 * (((i + 3) % 6) + 1);
        petal.x += offsetX;
        petal.y += offsetY;
      });
    });
  </script>
</body>
</html>
