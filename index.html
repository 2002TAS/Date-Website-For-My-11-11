<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>Romantic Date Invitation SPA for Priya</title>

  <!-- Playwrite México Guides font import -->
  <link href="https://fonts.googleapis.com/css2?family=Playwrite+MX+Guides&display=swap" rel="stylesheet" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.2.4/pixi.min.js"></script>

  <style>
    /* Reset and base */
    * {
      margin: 0; padding: 0; box-sizing: border-box;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    html, body {
      height: 100%; width: 100%;
      overflow-x: hidden;
      font-family: 'Playwrite MX Guides', cursive !important;
      background:
        radial-gradient(circle at 20% 50%, rgba(255,236,214,0.3), transparent 70%),
        radial-gradient(circle at 80% 60%, rgba(255,200,190,0.35), transparent 75%),
        linear-gradient(135deg, #fff8f0 20%, #ffd9bf 70%);
      color: #601c17;
      user-select: none;
      touch-action: manipulation;
      overscroll-behavior-y: contain;
      position: relative;
      perspective: 900px;
      overflow-y: hidden;
      background-blend-mode: screen;
    }
    #app {
      position: relative; min-height: 100vh;
      display: flex; flex-direction: column;
      justify-content: center; align-items: center;
      padding: 20px;
      text-align: center;
      background: transparent; z-index: 10;
      transform-style: preserve-3d;
      cursor: url('https://cdn-icons-png.flaticon.com/512/616/616408.png') 15 15, auto;
    }
    #nyc-silhouette {
      position: fixed; bottom: 0; left: 0; width: 100vw; height: 18vh;
      background: url('https://i.ibb.co/MVnPstX/nyc-silhouette-transparent.png') no-repeat bottom center;
      background-size: cover;
      filter: drop-shadow(0 0 5px rgba(0,0,0,0.07));
      pointer-events: none; opacity: 0.12; z-index: 1;
      user-select: none; transform: translateZ(-150px) scale(1.1);
    }
    canvas#pixi-canvas {
      position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
      user-select: none; pointer-events: none; z-index: 0; will-change: transform;
      filter: drop-shadow(0 0 20px rgba(255,208,83,0.4));
    }
    .page { position: absolute; width: 100%; min-height: 100vh; top: 0;
      left: 0; background: transparent; display: flex; flex-direction: column;
      justify-content: center; align-items: center; opacity: 0; pointer-events: none;
      transition: opacity 1.2s cubic-bezier(0.4,0,0.2,1), transform 0.9s ease-out;
      user-select: text; padding: 0 15px; z-index: 10; transform-style: preserve-3d; }
    .page.active { opacity: 1; pointer-events: auto; z-index: 20; transform: translateY(0);}
    .page.exit { opacity: 0; pointer-events: none; transform: translateY(50px); z-index: 5; }
    h1 {
      font-size: 4rem; max-width: 680px; color: #701e1b; letter-spacing: 0.06em;
      text-shadow: 0 0 10px rgba(255,198,83,0.95), 0 0 25px rgba(245,190,80,0.85), 0 0 45px rgba(255,207,76,0.7);
      position: relative; animation: fadeInSlideDown 1.3s ease forwards;
      cursor: default; user-select: text;
    }
    h1::before {
      content: ""; position: absolute; top: 50%; left: -7%; width: 115%; height: 16px;
      background: linear-gradient(90deg, transparent, #ffdd82, transparent);
      opacity: 0.48;
      transform: translateX(-100%) translateY(-50%) rotate(12deg);
      animation: shine 4.5s linear infinite; border-radius: 50%; pointer-events: none;
    }
    p {
      font-size: 1.34rem; max-width: 520px; font-weight: 500;
      margin-top: 28px; margin-bottom: 42px; line-height: 1.65;
      color: #6d3a23; letter-spacing: 0.035em;
      animation: fadeInSlideUp 1.75s ease forwards; user-select: text; text-shadow: none;
    }
    #loveNote {
      font-family: 'Georgia', serif !important;
      font-size: 1.3rem; max-width: 280px; color: #762d2a; font-style: italic;
      font-weight: 600; background: rgba(255,240,230,0.9); padding: 15px 25px; border-radius: 12px;
      box-shadow: 0 5px 18px rgba(199,88,83,0.5); user-select: text; position: fixed;
      bottom: 100px; right: 40px; display: none; z-index: 31; line-height: 1.42;
    }
    #roseHeart {
      position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px;
      background: url('https://cdn-icons-png.flaticon.com/512/833/833472.png') no-repeat center center / contain;
      filter: drop-shadow(0 0 6px #ff6c9e); cursor: pointer; opacity: 0.88;
      transition: transform 0.4s ease, opacity 0.5s ease; z-index: 30; user-select: none;
    }
    #roseHeart:hover {
      transform: scale(1.3) rotate(18deg); opacity: 1;
      filter: drop-shadow(0 0 14px #ff86ac);
    }
    button {
      padding: 18px 60px; font-size: 1.52rem; font-weight: 700; border: none;
      border-radius: 54px; background: linear-gradient(135deg, #ffd54f 0%, #c39010 100%);
      color: #4b2e06; letter-spacing: 0.06em; cursor: pointer;
      box-shadow: 0 6px 25px rgba(255,206,81,0.9), 0 0 25px #ffd657;
      transition: all 0.45s cubic-bezier(0.4,0,0.2,1); animation: fadeInSlideUp 2s ease forwards;
      user-select: none; will-change: transform, box-shadow; transform-style: preserve-3d;
      font-family: 'Playwrite MX Guides', cursive !important;
    }
    button:hover, button:focus {
      background: linear-gradient(135deg, #ffea6a 0%, #e3b731 100%);
      box-shadow: 0 10px 38px rgba(255,237,85,1), 0 0 27px #ffe874;
      transform: translateZ(7px) scale(1.12); outline: none;
    }
    button:active {
      transform: translateZ(0) scale(0.95);
      box-shadow: 0 4px 20px rgba(194,153,0,0.95);
    }
    .gallery-container {
      position: relative; max-width: 500px; height: 350px; margin: 35px auto 0;
      box-shadow: 0 8px 25px rgba(255,182,193,0.25); border-radius: 15px; overflow: hidden;
      background: #fff7f9;
      user-select: none; z-index: 24;
      font-family: 'Playwrite MX Guides', cursive !important;
    }
    .gallery-slide {
      position: absolute; width: 100%; height: 100%;
      opacity: 0; transition: opacity 1.1s cubic-bezier(.56,-0.03,.58,1.22);
      border-radius: 15px;
      z-index: 1;
    }
    .gallery-slide.active { opacity: 1; position: relative; z-index: 2; }
    .gallery-slide img {
      width: 100%; height: 100%; object-fit: cover; display: block;
      border-radius: 15px; box-shadow: 0 2px 14px #ffd9df48;
      transition: transform 0.7s cubic-bezier(.33,1.29,.73,1.23);
    }
    .gallery-prev, .gallery-next {
      position: absolute; top: 50%; transform: translateY(-50%);
      background: rgba(255,182,193,0.68); color: #a33f57; border: none;
      padding: 10px 17px; font-size: 2rem; border-radius: 50%; cursor: pointer;
      box-shadow: 0 0 8px rgba(255,105,180,0.13); user-select: none;
      transition: background 0.3s ease; z-index: 10;
    }
    .gallery-prev:hover, .gallery-next:hover {
      background: rgba(255,105,180,0.88);
    }
    .gallery-prev { left: 16px; }
    .gallery-next { right: 16px; }
    #loading {
      position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
      z-index: 1000; font-family: 'Playwrite MX Guides', cursive;
      font-size: 3rem; color: #d95769;
      text-shadow: 0 0 8px #fff, 0 0 20px #ff4f72;
      animation: blinkLoading 1.8s infinite; user-select: none;
    }
    @keyframes blinkLoading { 0%,50%,100%{opacity:1;} 25%,75%{opacity:0;} }
    @media (max-width: 600px) {
      h1 { font-size: 3rem; }
      p { font-size: 1.2rem; max-width: 95vw; }
      button { font-size: 1.3rem; padding: 16px 52px; }
      #roseHeart { width: 50px; height: 50px; bottom: 20px; right: 20px; }
      #loveNote { width: 180px; bottom: 80px; right: 18px; font-size:1rem;}
      .gallery-container { max-width:90vw; height:240px; }
    }
    @keyframes fadeInSlideDown { 0%{opacity:0;transform:translateY(-28px);} 100%{opacity:1;transform:translateY(0);} }
    @keyframes fadeInSlideUp { 0%{opacity:0;transform:translateY(28px);} 100%{opacity:1;transform:translateY(0);} }
    @keyframes shine { 0%{transform:translateX(-110%)translateY(-50%)rotate(12deg);} 100%{transform:translateX(120%)translateY(-50%)rotate(12deg);} }
  </style>
</head>
<body>
  <div id="loading">❤ Loading...</div>
  <canvas id="pixi-canvas" aria-hidden="true"></canvas>
  <audio id="backgroundMusic" src="song.mp3" loop autoplay muted></audio>
  <div id="app" aria-live="polite" hidden>
    <div id="nyc-silhouette" aria-hidden="true"></div>
    <section id="page1" class="page active" aria-label="Invitation landing page">
      <h1>The weather is beautiful, the air is calling,<br>
      & all I need is my beautiful wife by my side.</h1>
      <p>Would you like to join me for a date day tomorrow on the fine Saturday of August 23, in the big year of 2025?<br>I would love to court you across the big apple.</p>
      <button id="yesButton" aria-label="Yes, I would like to join you for the date">Yes</button>
    </section>
    <section id="page2" class="page" aria-label="Romantic date vibe page">
      <h1>Welcome to Our Date Night, Priya</h1>
      <p>
        Imagine a day full of delicious food that originated from more than 2000 years ago, art whispering stories,
        drinks sparkling softly, roses, gentle jasmine filling the air, and love letters waiting to be unfolded.
      </p>
      <!-- Animated Photo Gallery -->
      <div class="gallery-container" id="gallery">
        <div class="gallery-slide active"><img src="Northville-Concours-DElegance-2025.jpg" alt="Northville Concours D’Elegance 2025"></div>
        <div class="gallery-slide"><img src="DSC07283.jpg" alt="Romantic photo 2"></div>
        <div class="gallery-slide"><img src="DSC07491.jpg" alt="Romantic photo 3"></div>
        <button class="gallery-prev" aria-label="Previous photo">&#10094;</button>
        <button class="gallery-next" aria-label="Next photo">&#10095;</button>
      </div>
    </section>
  </div>
  <div id="roseHeart" tabindex="0" aria-label="Click to show love note" title="Click to show love note"></div>
  <div id="loveNote" role="alert" aria-live="polite">
    I love you Priya.<br>
    I hope you like this little creation I made ra.<br>
    Tomorrow will be an amazing day & I can't wait for it to begin :)
  </div>
  <script>
    // Loading fadeout
    window.onload = () => {
      const loading = document.getElementById('loading');
      const app = document.getElementById('app');
      loading.style.opacity = '0';
      setTimeout(() => {
        loading.style.display = 'none';
        app.hidden = false;
      }, 1200);
    };

    // Music autoplay muted initially, unmute on first interaction
    const music = document.getElementById('backgroundMusic');
    music.volume = 0.3; music.play().catch(() => {});
    document.body.addEventListener('click', () => {
      if(music.muted) { music.muted = false; music.play().catch(() => {});}
    }, {once:true});

    // SPA page control
    const page1 = document.getElementById('page1');
    const page2 = document.getElementById('page2');
    const yesButton = document.getElementById('yesButton');
    yesButton.onclick = () => {
      page1.classList.add('exit');
      page1.classList.remove('active');
      setTimeout(() => {
        page2.classList.add('active');
        page2.classList.remove('exit');
      }, 1100);
    };

    // Toggle love note with rose heart click/keyboard enter or space
    const roseHeart = document.getElementById('roseHeart');
    const loveNote = document.getElementById('loveNote');
    function toggleLoveNote() {
      if(loveNote.style.display === 'block') { loveNote.style.display = 'none'; roseHeart.style.opacity = 0.88; }
      else { loveNote.style.display = 'block'; roseHeart.style.opacity = 1; }
    }
    roseHeart.addEventListener('click', toggleLoveNote);
    roseHeart.addEventListener('keypress', e => {
      if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); toggleLoveNote(); }
    });

    // PIXI.js romantic background
    const appPixi = new PIXI.Application({
      view: document.getElementById('pixi-canvas'),
      resizeTo: window,
      transparent: true,
      resolution: window.devicePixelRatio,
      antialias: true,
      alpha: true,
    });
    const petals = []; const petalCount = 20;
    const petalTexture = PIXI.Texture.from('https://i.ibb.co/gwQhDdD/rose-petal.png');
    for(let i=0; i<petalCount; i++){
      const petal = new PIXI.Sprite(petalTexture);
      petal.anchor.set(0.5); petal.x=Math.random()*window.innerWidth; petal.y=Math.random()*window.innerHeight;
      petal.alpha=0.65+Math.random()*0.3; petal.scale.set(0.15+Math.random()*0.28);
      petal.rotation = Math.random()*Math.PI*2; petal.angularSpeed=0.002+Math.random()*0.004;
      petal.floatSpeed = 0.3 + Math.random() * 0.6; petals.push(petal); appPixi.stage.addChild(petal);
    }
    const orbs = []; const orbCount = 40;
    for(let i=0;i<orbCount;i++){
      const orb = new PIXI.Graphics();
      const color = 0xffd54f;
      const radius = (4+Math.random()*12)*(Math.random()<0.35?1.6:1);
      const alpha = 0.14+Math.random()*0.23;
      orb.beginFill(color, alpha);
      orb.drawCircle(0,0,radius);
      orb.endFill();
      orb.x=Math.random()*window.innerWidth;orb.y=Math.random()*window.innerHeight;
      orb.vx=(Math.random()-.5)*0.15;orb.vy=(Math.random()-.5)*0.15;orb.alpha=alpha;
      orbs.push(orb);appPixi.stage.addChild(orb);
      if(radius>9){
        const glow = new PIXI.Graphics();
        glow.beginFill(color,0.06);glow.drawCircle(0,0,radius*2);glow.endFill();glow.x=orb.x;glow.y=orb.y;
        appPixi.stage.addChild(glow);
        appPixi.ticker.add(()=>{glow.x=orb.x;glow.y=orb.y;});
      }
    }
    appPixi.ticker.add(()=>{
      const width=window.innerWidth,height=window.innerHeight;
      petals.forEach(petal=>{
        petal.y += petal.floatSpeed; petal.rotation += petal.angularSpeed; petal.x += Math.sin(petal.y*0.01)*0.7;
        if(petal.y>height+60){petal.y=-60;petal.x=Math.random()*width;}
      });
      orbs.forEach(orb=>{
        orb.x+=orb.vx; orb.y+=orb.vy;
        if(orb.x<0||orb.x>width)orb.vx*=-1;
        if(orb.y<0||orb.y>height)orb.vy*=-1;
      });
    });
    window.addEventListener('deviceorientation',e=>{
      const gamma=e.gamma||0,beta=e.beta||0;
      petals.forEach((petal,i)=>{
        const offsetX=gamma*0.1*(i%6+1),offsetY=beta*0.1*((i+3)%6+1);
        petal.x+=offsetX*0.04;petal.y+=offsetY*0.03;
      });
    },true);

    const gallerySection = document.getElementById('gallery');
    const slides = gallerySection.querySelectorAll('.gallery-slide');
    const prevBtn = gallerySection.querySelector('.gallery-prev');
    const nextBtn = gallerySection.querySelector('.gallery-next');
    let currentSlide = 0;
    function showSlide(index) {
      slides.forEach((slide,i)=>{slide.classList.toggle('active',i===index);});
      currentSlide = index;
    }
    prevBtn.addEventListener('click',()=>{ showSlide((currentSlide-1+slides.length)%slides.length); });
    nextBtn.addEventListener('click',()=>{ showSlide((currentSlide+1)%slides.length); });
    let touchStartX=0,touchEndX=0;
    gallerySection.addEventListener('touchstart',e=>{ touchStartX=e.changedTouches[0].screenX; });
    gallerySection.addEventListener('touchend',e=>{
      touchEndX=e.changedTouches.screenX;
      if(touchEndX<touchStartX-30)nextBtn.click();
      else if(touchEndX>touchStartX+30)prevBtn.click();
    });
  </script>
</body>
</html>
